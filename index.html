<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kresl√≠tko</title>
    <link rel="stylesheet" type="text/css" href="styles/reset.css">
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="stylesheet" href="libs/font-awesome-4.6.3/css/font-awesome.min.css">

    <!--    <script type="application/javascript" src="libs/jquery-3.1.0.min.js"></script> -->
    <script type="application/javascript" src="libs/snap.svg-min.js"></script>

    <!-- data -->
    <script type="application/javascript" src="src/data/Entity.js"></script>
    <script type="application/javascript" src="src/data/Attribute.js"></script>
    <script type="application/javascript" src="src/data/Relation.js"></script>

    <!-- view -->
    <script type="application/javascript" src="src/view/Entity.js"></script>
    <script type="application/javascript" src="src/view/EditableText.js"></script>

    <!-- control -->
    <script type="application/javascript" src="src/control/Entity.js"></script>

    <script type="application/javascript" src="src/Random.js"></script>
    <script type="application/javascript" src="src/Canvas.js"></script>
    <script type="application/javascript" src="src/Mouse.js"></script>

    <!--
        <script type="application/javascript" src="src/Entity.js"></script>
        <script type="application/javascript" src="src/EditableText.js"></script>
        <script type="application/javascript" src="src/Attribute.js"></script>
        <script type="application/javascript" src="src/RelationControl.js"></script>
        <script type="application/javascript" src="src/RelationLeg.js"></script>
        <script type="application/javascript" src="src/Menu.js"></script>
        -->
</head>
<body>

<div id="menu" class="contextMenu">
    <ul>
        <li>
            <div class="icon"><i class="fa fa-list"></i></div>
            Add Attribute
        </li>
        <li>
            <i class="fa fa-caret-right"></i>
            <div class="icon"><i class="fa fa-link"></i></div>
            Add Relation
            <ul>
                <li>
                    <div class="icon">&nbsp;</div>
                    N:M
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    N:1
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    1:N
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    1:1
                </li>
            </ul>
        </li>
        <li>
            <div class="icon"><i class="fa fa-ban"></i></div>
            Delete Entity
        </li>
    </ul>

    <ul>
        <li>
            <div class="icon"><i class="fa fa-key"></i></div>
            Primary Key
        </li>
        <li>
            <div class="icon">&nbsp;</div>
            Unique
        </li>
        <li>
            <div class="icon">&nbsp;</div>
            Nullable
        </li>

        <li>
            <div class="icon"><i class="fa fa-ban"></i></div>
            Delete Attribute
        </li>
    </ul>

    <ul>
        <li>
            <i class="fa fa-caret-right"></i>
            <div class="icon">&nbsp;</div>
            Cardinality
            <ul>
                <li>
                    <div class="icon">&nbsp;</div>
                    Single
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    Multiple
                </li>
            </ul>
        </li>
        <li>
            <div class="icon"><i class="fa fa-square-o"></i></div>
            Identifying
        </li>
        <li>
            <div class="icon"><i class="fa fa-check-square-o"></i></div>
            Required
        </li>
        <li>
            <div class="icon"><i class="fa fa-unlink"></i></div>
            Delete Relation
        </li>
    </ul>
</div>

    <a href="javascript:void(0)" onClick="canvas.clear()">clear</a>
    <a href="javascript:void(0)" onClick="canvas.clear();canvas.draw()">draw</a>

    <script>

        function test(e) {
            document.getElementById('menu').style.top=e.clientY+"px";
            document.getElementById('menu').style.left=e.clientX+"px";
            e.preventDefault();
        }
        document.body.addEventListener("contextmenu", test);

        dv = 0;
        console.log(dv || 1);

        dv = null;
        console.log(dv || 1);

        var canvas = new DBSDM.Canvas();
        canvas.create();


        /*
        var e1 = new Entity();
        e1.setName("First");
        e1.addAttribute(new Attribute());
        e1.addAttribute(new Attribute());
        e1.addAttribute(new Attribute());

        var e2 = new Entity();
        e2.setName("Second");

        var r = new Relation(e1, e2);
        r.setSource(false, true, 0);
        e1.addRelation(r);
        e2.addRelation(r);

        console.log(e1.toString());
        console.log(e2.toString());
        */


        /*
        var canvas = new Canvas(document.getElementById('canvas'), '#canvas svg');
        canvas.draw();


        var e1 = new Entity(200, 100);
        e1.resize(100, 150);
        e1.draw(canvas);

        var e2 = new Entity(800, 80);
        e2.resize(80, 60);
        e2.draw(canvas);
        */

        //var r = new Relation(e1);
        //r.draw(canvas);
        //r.setDestination(e2);

    </script>

</body>
</html>