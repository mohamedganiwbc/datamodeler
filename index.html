<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kreslítko</title>
    <link rel="stylesheet" type="text/css" href="styles/reset.css">
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="stylesheet" href="libs/font-awesome-4.6.3/css/font-awesome.min.css">

    <!--    <script type="application/javascript" src="libs/jquery-3.1.0.min.js"></script> -->
    <!--    <script type="application/javascript" src="libs/snap.svg-min.js"></script> -->

    <!-- model -->
    <script type="application/javascript" src="src/model/Entity.js"></script>
    <script type="application/javascript" src="src/model/Attribute.js"></script>
    <script type="application/javascript" src="src/model/AttributeList.js"></script>
    <script type="application/javascript" src="src/model/Relation.js"></script>

    <!-- view -->
    <script type="application/javascript" src="src/view/EditableText.js"></script>
    <script type="application/javascript" src="src/view/Entity.js"></script>
    <script type="application/javascript" src="src/view/Attribute.js"></script>

    <!-- control -->
    <script type="application/javascript" src="src/control/Entity.js"></script>
    <script type="application/javascript" src="src/control/Attribute.js"></script>
    <script type="application/javascript" src="src/control/AttributeList.js"></script>

    <script type="application/javascript" src="src/Random.js"></script>
    <script type="application/javascript" src="src/Canvas.js"></script>
    <script type="application/javascript" src="src/Mouse.js"></script>
    <script type="application/javascript" src="src/Element.js"></script>

    <script type="application/javascript" src="src/MenuController.js"></script>

    <!--
        <script type="application/javascript" src="src/Entity.js"></script>
        <script type="application/javascript" src="src/EditableText.js"></script>
        <script type="application/javascript" src="src/Attribute.js"></script>
        <script type="application/javascript" src="src/RelationControl.js"></script>
        <script type="application/javascript" src="src/RelationLeg.js"></script>
        -->
</head>
<body>
<!--
<div id="menu" class="contextMenu">
    <ul>
        <li>
            <div class="icon"><i class="fa fa-list"></i></div>
            Add Attribute
        </li>
        <li>
            <i class="fa fa-caret-right"></i>
            <div class="icon"><i class="fa fa-link"></i></div>
            Add Relation
            <ul>
                <li>
                    <div class="icon">&nbsp;</div>
                    N:M
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    N:1
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    1:N
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    1:1
                </li>
            </ul>
        </li>
        <li>
            <div class="icon"><i class="fa fa-ban"></i></div>
            Delete Entity
        </li>
    </ul>

    <ul>
        <li>
            <div class="icon"><i class="fa fa-key"></i></div>
            Primary Key
        </li>
        <li>
            <div class="icon">&nbsp;</div>
            Unique
        </li>
        <li>
            <div class="icon">&nbsp;</div>
            Nullable
        </li>

        <li>
            <div class="icon"><i class="fa fa-ban"></i></div>
            Delete Attribute
        </li>
    </ul>

    <ul>
        <li>
            <i class="fa fa-caret-right"></i>
            <div class="icon">&nbsp;</div>
            Cardinality
            <ul>
                <li>
                    <div class="icon">&nbsp;</div>
                    Single
                </li>
                <li>
                    <div class="icon">&nbsp;</div>
                    Multiple
                </li>
            </ul>
        </li>
        <li>
            <div class="icon"><i class="fa fa-square-o"></i></div>
            Identifying
        </li>
        <li>
            <div class="icon"><i class="fa fa-check-square-o"></i></div>
            Required
        </li>
        <li>
            <div class="icon"><i class="fa fa-unlink"></i></div>
            Delete Relation
        </li>
    </ul>
</div>
-->

    <a href="javascript:void(0)" onClick="canvas.clear()">clear</a>
    <a href="javascript:void(0)" onClick="canvas.clear();canvas.draw()">draw</a>

<!--
<svg width="100%" height="500">
    <defs>
        <linearGradient id="Gradient1"  x1="0" x2="0" y1="0" y2="1">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="1"/>
            <stop offset="100%" stop-color="#eaeaea" stop-opacity="1"/>
        </linearGradient>
    </defs>

    <rect x="0" y="0" width="100%" height="100%" fill="#a4e1ff"></rect>
    <text x="10" y="50" style="font-size:0.65em">
        <tspan style="font-family:'Courier New';font-size:1.2em">#</tspan>
        <tspan dy="2px" style="font-family:'Courier New';font-size:1.2em">*</tspan>
        <tspan dy="-2px">Attribute</tspan>
    </text>
    <text x="10" y="65" style="font-size:0.65em">
        <tspan style="font-family:'Courier New';font-size:1.2em"> </tspan>
        <tspan dy="-1px" style="font-family:'Courier New';font-size:1.2em">o</tspan>
        <tspan dy="1px">Attribute</tspan>
    </text>

    <svg class="attr" x="10" y="80" width="200" height="18">
        <rect x="0" y="0" width="100%" height="100%" rx="4" ry="4" fill="url(#Gradient1)" stroke-width="1" stroke="#5271ff"></rect>
        <text x="10" y="50%" style="font-size:0.65em;dominant-baseline:central">
            <tspan style="font-family:'Courier New';font-size:1.2em">U</tspan>
            <tspan dy="-1px" style="font-family:'Courier New';font-size:1.2em">o</tspan>
            <tspan dy="1px">Attribute</tspan>
        </text>
    </svg>

    <svg class="attr" x="10" y="98" width="200" height="18">
        <rect x="0" y="0" width="100%" height="100%" rx="4" ry="4" fill="url(#Gradient1)" stroke-width="1" stroke="#5271ff"></rect>
        <text x="10" y="50%" style="font-size:0.65em;dominant-baseline:central">
            <tspan style="font-family:'Courier New';font-size:1.2em">#</tspan>
            <tspan dy="2px" style="font-family:'Courier New';font-size:1.2em">*</tspan>
            <tspan dy="-2px">Attribute</tspan>
        </text>
    </svg>
</svg>
-->

    <script>

        DBSDM.Menu.build();

        var canvas = new DBSDM.Canvas();
        canvas.create();


        /*
        var e1 = new Entity();
        e1.setName("First");
        e1.addAttribute(new Attribute());
        e1.addAttribute(new Attribute());
        e1.addAttribute(new Attribute());

        var e2 = new Entity();
        e2.setName("Second");

        var r = new Relation(e1, e2);
        r.setSource(false, true, 0);
        e1.addRelation(r);
        e2.addRelation(r);

        console.log(e1.toString());
        console.log(e2.toString());
        */


        /*
        var canvas = new Canvas(document.getElementById('canvas'), '#canvas svg');
        canvas.draw();


        var e1 = new Entity(200, 100);
        e1.resize(100, 150);
        e1.draw(canvas);

        var e2 = new Entity(800, 80);
        e2.resize(80, 60);
        e2.draw(canvas);
        */

        //var r = new Relation(e1);
        //r.draw(canvas);
        //r.setDestination(e2);

    </script>

</body>
</html>